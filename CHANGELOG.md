# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/).

## Unreleased

### Added

### Changed

### Deprecated

### Removed

- 入場関連機能を削除

### Fixed

### Security

## v8.19.0 - 2020-12-24

### Added

- 注文照会機能を追加
- 印刷機能を追加

## v8.18.4 - 2020-12-13

### Changed

- 車椅子オファーかどうかの判断をオファーカテゴリーで判断するように調整

## v8.18.3 - 2020-12-12

### Changed

- オファーの追加特性参照をカテゴリー参照に変更

## v8.18.2 - 2020-12-11

### Changed

- @motionpicture/ttts-api-nodejs-clientへの依存を削除
- update @cinerino/sdk

## v8.18.1 - 2020-10-28

### Changed

- チケット印刷ページへの連携メソッドをPOSTへ変更

## v8.18.0 - 2020-10-28

### Changed

- 入場QRコードに注文コードを追加

## v8.17.1 - 2020-10-26

### Changed

- 注文作成のパラメータを調整

## v8.17.0 - 2020-10-26

### Changed

- update @cinerino/sdk
- チケット印刷URLをprintByOrderNumberに変更
- 購入完了ページ表示前に注文承認処理を追加
- 印刷トークンを発行しないように調整
- uninstall @types/jsonwebtoken

## v8.16.1 - 2020-09-01

### Changed

- 注意文言追加

## v8.16.0 - 2020-08-05

### Changed

- イベント検索をCinerinoへ移行
- 不要な環境変数を削除

## v8.15.4 - 2020-07-31

### Changed

- パフォーマンス検索を最適化

## v8.15.3 - 2020-07-22

### Changed

- @cinerino/api-nodejs-client -> @cinerino/sdk

## v8.15.2 - 2020-07-18

### Changed

- 購入番号として注文のconfirmationNumberを参照するように変更

## v8.15.1 - 2020-06-11

### Changed

- チケットサイトスケジュール選択画面の上部注意文言にて各言語で一部文言を削除

## v8.15.0 - 2020-06-03

### Changed

- 配送完了メールテンプレートを注文取引確定時に指定するように調整

## v8.14.1 - 2020-05-02

### Changed

- 注意文言変更

## v8.14.0 - 2020-03-31

### Added

- 注文取引確定後のメール送信を追加

## v8.13.0 - 2020-03-09

### Changed

- イベントオファーをCinerinoで検索するように変更

## v8.12.0 - 2020-02-18

### Changed

- 車椅子レート制限をChevreへ移行

## v8.11.0 - 2020-02-14

### Changed

- 注文確定後の余分確保分予約へのextraプロパティ連携を削除
- 独自購入番号発行を削除
- 注文取引確定後のアクションカスタムを削除
- 注文識別子カスタムを削除
- 新しい予約承認取消サービスを使用するように調整

## v8.10.1 - 2020-01-30

### Changed

- スケジュール選択の文言変更

## v8.10.0 - 2019-12-04

### Changed

- 券種カテゴリーレート制限を実装

## v8.9.0 - 2019-12-03

### Changed

- 券種カテゴリーレート制限解除を実装

## v8.8.0 - 2019-11-20

### Changed

- 注文通知設定をCinerinoプロジェクト設定で移行

## v8.7.0 - 2019-11-13

### Changed

- 購入番号をフロントで発行するように調整

## v8.6.0 - 2019-11-12

### Changed

- 注文取引確定時に注文識別子を指定

## v8.5.0 - 2019-11-11

### Changed

- 注文取引確定前にメール送信内容を作成するように調整

## v8.4.0 - 2019-11-08

### Changed

- 注文取引確定サービスをCinerino本家へ変更

## v8.3.0 - 2019-11-07

### Changed

- 注文取引確定時の注文通知先指定をCinerino化
- 注文取引確定時の予約連携指定をCinerino化
- 注文取引確定時の印刷トークンをアプリケーション側で生成

## v8.2.0 - 2019-10-31

### Changed

- @cinerino/api-nodejs-client@2.0.0-alpha.35で再構築

## v8.1.2 - 2019-10-29

### Changed

- 注文取引の購入者プロフィール指定をCinerino化

## v8.1.1 - 2019-10-29

### Changed

- 注文取引開始時の販売者をIDで指定するように調整

## v8.1.0 - 2019-10-25

### Changed

- update @motionpicture/ttts-api-nodejs-client

## v8.0.0 - 2019-10-17

### Changed

- クレジットカード決済承認に決済サービスを使用

## v7.6.0 - 2019-10-16

### Changed

- @cinerino/api-nodejs-clientで再構築

## v7.5.0 - 2019-10-07

### Changed

- セッション中の仮予約情報を最適化
- 注文アイテムの価格情報取得方法を調整

## v7.4.1 - 2019-10-01

### Changed

- 商号変更のため、規約と特商法の変更

## v7.4.0 - 2019-09-25

### Changed

- 注文のacceptedOffersに含まれる予約情報に依存しないように調整

## v7.3.3 - 2019-08-07

### Changed

- クレジットカード決済のオーダーIDをAPIに発行させるように変更

## v7.3.2 - 2019-07-23

### Changed

- 券種IDと券種コードの分離対応

## v7.3.1 - 2019-07-17

### Changed

- 予約番号参照を購入番号へ移行

## v7.3.0 - 2019-07-02

### Removed

- 注文取引結果からeventReservationsを削除(order.acceptedOffersへ移行)
- 仮予約インターフェースからrate_limit_unit_in_secondsを削除
- パフォーマンスインターフェースから非推奨属性を削除

## v7.2.0 - 2019-06-28

### Changed

- 予約の入場以外の全属性をChevre化
- 券種インターフェースをChevre化

## v7.1.13 - 2019-06-26

### Removed

- 予約インターフェースから不要な属性を削除

## v7.1.12 - 2019-06-22

### Changed

- ツアーナンバーのChevreインターフェース対応

### Removed

- 券種からキャンセルチャージ属性を削除

## v7.1.11- 2019-06-17

### Changed

- 新しい予約インターフェース(Chevre)で再構築

### Removed

- 代理予約向けの不要なソースを削除
- jsdoc削除

## v7.1.10- 2019-06-05

### Changed

- 開発環境用入場ページのWaiter設定調整
- update ttts-api-nodejs-client

## v7.1.9- 2019-05-16
- 予約が4名入ったら△にする

## v7.1.8- 2019-04-04
- QRをjsで生成

## v7.1.7- 2019-03-19
- QRサービスの変更

## v7.1.6- 2018-12-23
- 社名変更に伴うロゴ、文言の変更 特商法責任者の英語修正

## v7.1.5- 2018-12-22
- 社名変更に伴うロゴ、文言の変更

## v7.1.4- 2018-12-19
- 工事文言削除

## v7.1.3- 2018-10-30
- トップ画面文言修正

## v7.1.2- 2018-10-12
- トップ画面文言修正

## v7.1.1- 2018-08-01
- トップ画面文言修正2（外国語追加）

## v7.1.0- 2018-08-01
- トップ画面文言修正

## v7.0.9- 2018-07-11
- bootstrapファイルをローカルに変更

## v7.0.8- 2018-06-05
- 文言修正

## v7.0.7- 2018-05-10

### Fixed
- 電話番号入力エラー時に関係ないクレカエラーが表示されるため、ハンドリングの順序を調整

## v7.0.6- 2018-03-22

### Changed

- メールアドレス確認入力欄が「@」で分割されていたのを統合(フロントのみで処理してサーバとの通信内容は変えず)
- メールアドレス確認入力欄のコピペ入力を禁止

## v7.0.5 - 2018-03-14

### Added

- 券種選択画面で車椅子券を conf.get('reservation_maxq_wheelchair') 枚以上選択した時に NoAvailableSeats メッセージを表示

### Fixed

- 注文入場画面CSS修正
- パフォーマンス選択で seat_status が null だった時そのまま表示されてしまっていたので 0 として扱うように修正
- ドメイン指定受信のメッセージのデグレを修正

## v7.0.4 - 2018-02-19
### Fixed
- 注文取引確定時の注文番号重複エラーをシステムエラーとしてハンドリング。
- 注文取引確定時の注文番号重複エラーメッセージを追加

## v7.0.3 - 2018-02-14
### Fixed
- 注文取引確定時の注文番号重複エラーをシステムエラーとしてハンドリング。

## v7.0.2 - 2018-02-02
# TTTS-322
### Fixed
- 購入者情報登録のリクエストから国コードが除外されるバグを修正。

## v7.0.1 - 2018-02-01
### Added
- 開発用に入場ページを設置。

### Fixed
- 購入者情報登録のリクエストから国コードが除外されるバグを修正。

## v7.0.0 - 2018-01-19
### Changed
- 注文取引開始時のWAITER許可証を必須化。
- 購入フロー中のエラー時HTTPステータスコードを調整。
- Googleタグマネージャー用のスクリプト調整。

### Fixed
- 車椅子ページへの遷移ができないバグ対応。

## v6.0.2 - 2017-12-13
### Changed
- APIの認証情報をCognitoから取得するように変更。

## v6.0.1 - 2017-12-13
### Removed
- 不要なコードを削除。

## v6.0.0 - 2017-12-13
### Changed
- ttts-domain@12.0.0で再実装。
